<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Template — Android Lecture</title>

    <link rel="stylesheet" href="css/reveal.css">                    <!--slide style-->
    <link rel="stylesheet" href="css/theme/noveo.css" id="theme">    <!--noveo theme-->
    <link rel="stylesheet" href="lib/css/magula.css">                <!--code highlight-->
</head>
<body>
<div id="hidden" style="display: none">
    <div id="header">
        <div id="header-left"></div>
        <div id="header-right"></div>
    </div>
</div>
<div class="reveal">
    <div class="slides">
        <!--positioning content-->
        <section class="center center-horizontal">
            <h1>Android User Interface</h1>
            <h3>Android</h3>
            <h4>Клещев Денис</h4>
        </section>
        <section class="center center-horizontal">
            <h2>UI Overview</h2>
            <ul>
                <li>Весь графический интерфейс строится из объектов классов View и ViewGroup</li>
                <li>View - нечто, что может быть нарисованно на экране и с чем пользователь может взаимодействовать</li>
                <li>ViewGroup - наследник View, содержит в себе другие View и определяет как они будут расположенны относительно друг друга</li>
                <li>AdapterView - особый наследник ViewGroup, дочерние элементы которого задаются с помощью Adapter’a</li>
            </ul>
        </section>
        <section class="center center-horizontal">
            <h2>UI Overview</h2>
            <img src="http://i.stack.imgur.com/vYsMp.png">
        </section>
        <section class="center center-horizontal">
            <h2>Declaring Views</h2>
            <ul>
                <li>Дерево View может быть создано прямо в коде</li>
                <li>Более простой и предпочтительный способ - использовать XML</li>
                <li>Это декларативно (говорим что делать, а не как)</li>
                <li>Позволяет отделить графический интерфейс и логику</li>
                <li>Меньше усилий и более читабельно</li>
                <li>Переиспользуемо</li>
                <li>Для разных конфигураций могут быть созданы разные XML файлы, при этом коду знать об этом не обязательно</li>
            </ul>
        </section>
        <section class="center center-horizontal">
            <h2>Common Views</h2>
            <ul>
                <li class="fragment" data-fragment-index="1">TextView - нередактируемое текстовое поле</li>
                <li class="fragment" data-fragment-index="2">EditText - редактируемое текстовое поле</li>
                <li class="fragment" data-fragment-index="3">ImageView – картинка</li>
                <li class="fragment" data-fragment-index="4">Button – кнопочка</li>
                <li class="fragment" data-fragment-index="5">CheckBox - галочка</li>
            </ul>
        </section>
        <section>
            <section class="center">
                <h2>Attributes</h2>
                <ul>
                    <li>В xml поведение отдельного View можно настраивать с помощью аттрибутов</li>
                    <li>Существует набор аттрибутов общих для всех View</li>
                    <li>Почти каждый наследник View имеет свой собственный набор специфичных для него аттрибутов</li>
                    <li>Можно создавать свои собственные аттрибуты</li>
                    <li>Часто для каждого аттрибута существуют соответствующие ему методы</li>
                </ul>
            </section>
            <section class="center">
                <h2>Common Attributes</h2>
                <ul>
                    <li>android:id - уникальный идентификатор</li>
                    <li>android:layout_width - ширина элемента</li>
                    <li>android:layout_height - высота элемента</li>
                    <li>android:layout_margin - отступы снаружи элемента</li>
                    <li>android:padding - отступы внутри элемента</li>
                    <li>android:layout_gravity - расположение элемента внутри родителя</li>
                    <li>android:gravity - расположение контента внутри элемента</li>
                    <li>android:visibility - показывать элемент или нет</li>
                    <li>android:background - фоновое изображение</li>
                    <li>...</li>
                </ul>
            </section>
            <section class="center">
                <h2>Unique Attributes</h2>
                <h3>TextView</h3>
                <ul>
                    <li>android:text – текст</li>
                    <li>android:textSize – размер</li>
                    <li>android:textColor – цвет</li>
                    <li>android:textStyle - стиль (bold, italic, monospace)</li>
                    <li>android:singleLine - максимум одна строка текста</li>
                    <li>android:maxLines - максимальное число строк текста</li>
                    <li>android:ellipsize - что делать, если текст слишком длинный</li>
                </ul>
            </section>
            <section class="center">
                <h2>Unique Attributes</h2>
                <h3>ImageView</h3>
                <ul>
                    <li>android:src - что показывать</li>
                    <li>android:scaleType - как масштабировать</li>
                    <li>android:adjustViewBounds - меняем размеры View в зависимости от размеров картинки</li>
                </ul>
            </section>
        </section>
        <section class="center center-horizontal">
            <h2>Dimension Units</h2>
            <ul>
                <li>px - реальные пиксели на экране</li>
                <li>pt - points, 1/72 дюйма</li>
                <li>mm – миллиметры</li>
                <li>in – дюймы</li>
                <li>dp - density independent pixels. Количество пикселей одном dp зависит от плотности экрана</li>
                <li>sp - scaled pixels. Аналогичны dp + размер зависит от выбранного размера шрифта пользователем</li>
                <li>процентов нет</li>
            </ul>
        </section>
        <section class="center center-horizontal">
            <h2>Dimension Units</h2>
            <h4>Bad practice</h4>
            <img src="http://developer.android.com/images/screens_support/density-test-bad.png">
            <h4>Good practice</h4>
            <img src="http://developer.android.com/images/screens_support/density-test-good.png">            
        </section>
        <section>
            <section class="center">
                <h2>Drawable Types</h2>
                <ul>
                    <li>ColorDrawable - просто цвет</li>
                    <li>BitmapDrawable - просто картинка</li>
                    <li>NinePatchDrawable - картинка, которая умеет правильно растягиваться</li>
                    <li>StateListDrawable - меняет свой контент в зависимости от состояния</li>
                    <li>ShapeDrawable - набор свойств таких как: просто цвет, радиус скругления, градиент, обводка</li>
                </ul>
            </section>
            <section class="center">
                <h2>Drawable Types</h2>
                <h3>drawable/view_selector.xml</h3>
                <pre>
                    <code class="small" data-trim>
                        <?xml version="1.0" encoding="utf-8"?>
                        <selector xmlns:android="http://schemas.android.com/apk/res/android">
                            <item android:drawable="@drawable/icon" android:state_enabled="true"></item>
                            <item android:drawable="@drawable/icon_inactive" android:state_enabled="false"></item>
                        </selector>
                    </code>
                </pre>
            </section>
            <section class="center">
                <h2>Drawable Types</h2>
                <h3>drawable/view_bg_shape.xml</h3>
                <pre>
                    <code class="small" data-trim>
                        <?xml version="1.0" encoding="utf-8"?>
                        <shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">
                            <solid android:color="@color/blue"></solid>
                            <corners android:radius="2dp"></corners>
                        </shape>
                    </code>
                </pre>
            </section>            
        </section>
        <section class="center center-horizontal">
            <h2>Input Handling</h2>
            <ul>
                <li>View.setOnClickListener</li>
                <li>View.setOnLongClickListener</li>
                <li>View.setOnFocusChangeListener</li>
                <li>View.setOnTouchListener</li>
                <li>TextView.addTextChangedListener</li>
                <li>CompoundButton.setOnCheckedChangeListener</li>
                <li>AdapterView.setOnItemClickListener</li>
            </ul>
        </section>
        <section class="center center-horizontal">
            <h2>Common Layouts</h2>
            <ul>
                <li>FrameLayout - рисует дочерние View поверх друг друга</li>
                <li>LinearLayout - выстраивает свои элементы в одну линию</li>
                <li>RelativeLayout - хитро располагает элементы относительно друг друга</li>
                <li>ListView - список</li>
                <li>GridLayout - дочерние View располагаются по сеточке</li>
                <li>RecyclerView - современная замена ListView и GridLayout</li>
                <li>ScrollView - добавляет скролл, если контент слишком большой</li>
                <li>TableLayout - таблица для статичных данных</li>
            </ul>
        </section>
        <section class="center center-horizontal">
            <h1>Интерактивчик!</h1>
        </section>
        <section class="center center-horizontal">
            <h2>ListView, GridView</h2>
            <ul>
                <li>Отображение вертикального (ListView) или в виде таблицы (GridView) списка однотипных данных</li>
                <li>Переиспользует созданные вьюхи</li>
                <li>Можно добавлять хедеры и футеры</li>
                <li>Необходимо использовать класс Adapter</li>
            </ul>
        </section>
        <section class="center center-horizontal">
            <h2>RecyclerView</h2>
            <ul>
                <li>Ничего не знает о расположении элементов</li>
                <li>Обязательное использование <b>ViewHolder</b></li>
                <li>Сам решает, когда, как и что кэшировать и переиспользовать</li>
                <li>Decoration Позволяет добавить любое "украшение" к любому элементу</li>
                <li>Можно сделать любое расположение элементов, но это сложнее</li>
                <li>Click handling - чуть сложнее чем в ListView и GtidView</li>
            </ul>
        </section>
        <section class="center center-horizontal">
            <h2>RecyclerView.Adapter</h2>
            

        </section>
        <section data-markdown="lecture/ui/xml_example.md"></section>
        <section class="center center-horizontal">
            <h2>CardView</h2>
            <img src="lecture/ui/card_view.png">
        </section>
        <section class="center center-horizontal">
            <h2>Custom View</h2>
            <ul>
                <li>Позволяет задавать свои аттрибуты</li>
                <li>Расширение существующей View (например TextView)</li>
                <li>Не занимается ничем, кроме отображения данных и взаимодействия с юзером</li>
                <li>Не выполняет лишнюю работу по отрисовке</li>
                <li>Корректно отрисовывается в превью студии</li>
                <li>Действительно необходима и ее функционал не может быть реализован стандартными средствами</li>
            </ul>
        </section>
        <section class="center center-horizontal">
            <h2>Custom View: аттрибуты</h2>
            <p>Описание атрибутов в res/values/attrs.xml</p>
            <ul>
                <li>declare-styleable 
                    <ul>
                        <li>name - имя класса</li>
                    </ul>
                </li>
                <li>attr
                    <ul>
                        <li>name - имя атрибута, который будет использоваться в разметке</li>
                        <li>format - тип атрибута
                            <ul>
                                <li>integer</li>
                                <li>float</li>
                                <li>string</li>
                                <li>color</li>
                                <li>dimension</li>
                                <li>reference</li>
                                <li>...</li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </section>
        <section data-markdown="lecture/ui/custom_view_attributes.md"></section>
        <section class="center center-horizontal">
            <h2>Custom Views: Наследование</h2>
            <ol type="1">
                <li>Получить атрибуты в конструкторе
                    <pre><code class="normal" data-trim data-noescape>
                        TypedArray a = 
                            context.obtainStyledAttributes(attrs, 
                                        R.styleable.CustomImageView);
                    </code></pre>
                </li>
                <li>Получить нужные значения
                    <pre><code class="normal" data-trim data-noescape>
                        Drawable foregroundDrawable = 
                            a.getDrawable(R.styleable.CustomImageView_param);

                        float margin = 
                            a.getDimension(R.styleable.CustomImageView_param, 0);
                    </code></pre>
                </li>
                <li>Не забыть освободить ресуры обратно
                    <pre><code class="big" data-trim data-noescape>
                        a.recycle();
                    </code></pre>
                </li>
            </ol>
        </section>
        <section class="center center-horizontal">
            <h2>Custom Views: Наследование</h2>
            <ul>
                <li>onDraw</li>
                <li>onTouchEvent</li>
                <li>onMeasure</li>
                <li>onSizeChanged</li>
                <li>...</li>
            </ul>
        </section>
        <section data-markdown="lecture/ui/custom_view_usage.md"></section>
        <section class="center center-horizontal">
            <h1>Интерактивчик!</h1>
        </section>
        <section>
            <h2>Дополнительные ссылки</h2>
            <ul>
                <li><p><a href="http://developer.android.com/guide/topics/ui/index.html">User Interface</a></p></li>
                <li><p><a href="http://developer.android.com/training/best-ui.html">Best Practices for User Interface</a></p></li>
                <li><p><a href="http://developer.android.com/training/improving-layouts/index.html">Improving Layout Performance</a></p></li>
                <li><p><a href="http://developer.android.com/training/custom-views/index.html">Creating Custom Views</a></p></li>
                <li><p><a href="http://developer.android.com/reference/android/view/View.html">View</a></p></li>
                <li><p><a href="http://developer.android.com/guide/topics/ui/custom-components.html">Custom Components</a></p></li>
                <li><p><a href="http://developer.android.com/guide/topics/resources/drawable-resource.html">Drawable Resources</a></p></li>
                <li><p><a href="http://developer.android.com/training/improving-layouts/optimizing-layout.html">Optimizing Layout Hierarchies</a></p></li>
                <li><p><a href="https://developer.android.com/training/material/lists-cards.html">Creating Lists and Cards</a></p></li>
            </ul>
        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>      <!--HeadJS functions-->
<script src="js/reveal.js"></script>            <!--RevealJS functions-->
<script src="js/config.js"></script>            <!--RevealJS config-->

<script src="lib/js/jquery-3.2.1.min.js"></script>
<script src="js/printpdf.js"></script>
</body>
</html>

Reveal.initialize({
    center: true
})